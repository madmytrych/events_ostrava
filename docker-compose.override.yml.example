# Local development overrides â€” NOT committed to git (see .gitignore)
# Docker Compose merges this automatically with docker-compose.yml when present.
# On production, this file should not exist; the base docker-compose.yml is used as-is.
services:
  app:
    environment:
      APP_ENV: local
      PHP_OPCACHE_ENABLE: "0"
      XDEBUG_MODE: debug
      XDEBUG_CONFIG: client_host=host.docker.internal client_port=9003
      PHP_IDE_CONFIG: serverName=127.0.0.1
    extra_hosts:
      - "host.docker.internal:host-gateway"

  scheduler:
    environment:
      XDEBUG_MODE: debug
      XDEBUG_CONFIG: client_host=host.docker.internal client_port=9003
      PHP_IDE_CONFIG: serverName=events-ostrava
    extra_hosts:
      - "host.docker.internal:host-gateway"

  queue:
    environment:
      XDEBUG_MODE: debug
      XDEBUG_CONFIG: client_host=host.docker.internal client_port=9003
      PHP_IDE_CONFIG: serverName=events-ostrava
    extra_hosts:
      - "host.docker.internal:host-gateway"

  telegram-poll:
    environment:
      XDEBUG_MODE: debug
      XDEBUG_CONFIG: client_host=host.docker.internal client_port=9003
      PHP_IDE_CONFIG: serverName=events-ostrava
    extra_hosts:
      - "host.docker.internal:host-gateway"
